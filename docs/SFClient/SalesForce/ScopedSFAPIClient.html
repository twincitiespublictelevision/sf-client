<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>SFClient\SalesForce\ScopedSFAPIClient | API</title>

            <link rel="stylesheet" type="text/css" href="../../css/normalize.css">
        <link rel="stylesheet" type="text/css" href="../../css/min.css">
        <link rel="stylesheet" type="text/css" href="../../css/prism.css">
        <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700,400italic' rel='stylesheet' type='text/css'>
        <script src="../../js/prism.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:SFClient_SalesForce_ScopedSFAPIClient" data-root-path="../../">
            <nav>
    <div class="container">
      <div class="title">
        <a href="../../index.html">API</a>
      </div>
      <ul>
        <li><a href="../../classes.html">Classes</a></li>
                  <li><a href="../../namespaces.html">Namespaces</a></li>
                <li><a href="../../interfaces.html">Interfaces</a></li>
        <li><a href="../../traits.html">Traits</a></li>
        <li><a href="../../doc-index.html">Index</a></li>
        <li><a href="../../search.html">Search</a></li>
      </ul>
                  <ol class="breadcrumb">
                                  <li><a href="../../SFClient.html">SFClient</a></li>
                    <li><a href="../../SFClient/SalesForce.html">SalesForce</a></li>
  
            <li>ScopedSFAPIClient</li>
        </ol>
        </div>
  </nav>

  <div class="container">
    <div class="row">
        <div id="control-panel">
      </div>

        <div id="api-tree"></div>

    </div>
    <div class="row">
          <h1>ScopedSFAPIClient</h1>

    <p>    class
    <strong>ScopedSFAPIClient</strong>
</p>

            <p>Class ScopedSFAPIClient</p>        <p>A SalesForce API client that is scoped down to a specific SalesForce object
type. The scoped clients wraps an existing SalesForce API client meaning that
calls to the scoped client are passed on to the SalesForce API client that
was used to construct the scoped client.</p>

<p>This can be useful when needing to pass to an external system, a client that
has reduced capabilities.</p>

<pre><code class="php">$accounts = new ScopedSFAPIClient($sfClient, 'Account');

perform_account_logic($accounts);

</code></pre>
</p>    
    
    
            <h2>Properties</h2>

            <table class="table">
                    <tr>
                <td id="property__client">
                    <code class="language-php">                    protected                                        <a href="../../SFClient/SalesForce/SFAPIClient.html"><abbr title="SFClient\SalesForce\SFAPIClient">SFAPIClient</abbr></a></code>
                </td>
                <td><code class="language-php">$_client</code></td>
                <td></td>
                <td></td>
            </tr>
                    <tr>
                <td id="property__scope">
                    <code class="language-php">                    protected                                        string</code>
                </td>
                <td><code class="language-php">$_scope</code></td>
                <td></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <table class="table">
            <tr>
            <td>
                <code class="language-php">
                                                            public                                    </code>
            </td>
            <td class="text-right"><code class="language-php"></code></td>
            <td>
                <code class="language-php"><a href="#method___construct">__construct</a>(<a href="../../SFClient/SalesForce/SFAPIClient.html"><abbr title="SFClient\SalesForce\SFAPIClient">SFAPIClient</abbr></a> $client, string $objectScope)</code>
            </td>
            <td>
                                    Creates a SalesForce API client scoped to a particular object type.            </td>
            <td></td>
        </tr>
            <tr>
            <td>
                <code class="language-php">
                                                            public                                    </code>
            </td>
            <td class="text-right"><code class="language-php">string</code></td>
            <td>
                <code class="language-php"><a href="#method_getScope">getScope</a>()</code>
            </td>
            <td>
                                    Returns the object type scope that is applied to this client            </td>
            <td></td>
        </tr>
            <tr>
            <td>
                <code class="language-php">
                                                            public                                    </code>
            </td>
            <td class="text-right"><code class="language-php"><a href="../../SFClient/Result/SFCreationResult.html"><abbr title="SFClient\Result\SFCreationResult">SFCreationResult</abbr></a></code></td>
            <td>
                <code class="language-php"><a href="#method_create">create</a>(array $data)</code>
            </td>
            <td>
                                    No description
                            </td>
            <td></td>
        </tr>
            <tr>
            <td>
                <code class="language-php">
                                                            public                                    </code>
            </td>
            <td class="text-right"><code class="language-php"><a href="../../SFClient/Result/SFObjectResult.html"><abbr title="SFClient\Result\SFObjectResult">SFObjectResult</abbr></a></code></td>
            <td>
                <code class="language-php"><a href="#method_get">get</a>(string $id, array $fields = [])</code>
            </td>
            <td>
                                    No description
                            </td>
            <td></td>
        </tr>
            <tr>
            <td>
                <code class="language-php">
                                                            public                                    </code>
            </td>
            <td class="text-right"><code class="language-php"><a href="../../SFClient/Result/BoolResult.html"><abbr title="SFClient\Result\BoolResult">BoolResult</abbr></a></code></td>
            <td>
                <code class="language-php"><a href="#method_patch">patch</a>(string $id, array $data)</code>
            </td>
            <td>
                                    No description
                            </td>
            <td></td>
        </tr>
            <tr>
            <td>
                <code class="language-php">
                                                            public                                    </code>
            </td>
            <td class="text-right"><code class="language-php"><a href="../../SFClient/Result/BoolResult.html"><abbr title="SFClient\Result\BoolResult">BoolResult</abbr></a></code></td>
            <td>
                <code class="language-php"><a href="#method_delete">delete</a>(string $id)</code>
            </td>
            <td>
                                    No description
                            </td>
            <td></td>
        </tr>
        </table>


        <h2>Details</h2>

            <div id="method-details">
                        <div>
        <div class="float-right">
                            at line <a href="#source.49">49</a>
                    </div>
        <div>
            <h3 id="method___construct"><code class="language-php">__construct()</code></h3>
            <code class="language-php">public __construct(<a href="../../SFClient/SalesForce/SFAPIClient.html"><abbr title="SFClient\SalesForce\SFAPIClient">SFAPIClient</abbr></a> $client, string $objectScope)</code>
        </div>
    </div>

    <div class="details">
                    <div>
                                    <p>Creates a SalesForce API client scoped to a particular object type.</p>                    <p>ScopedSFClient constructor.</p>            </div>
                            <h4>Parameters</h4>

                <table class="table">
                    <tr>
                <td><code class="language-php"><a href="../../SFClient/SalesForce/SFAPIClient.html"><abbr title="SFClient\SalesForce\SFAPIClient">SFAPIClient</abbr></a></code></td>
                <td><code class="language-php">$client</code></td>
                <td>SalesForce API client to wrap</td>
            </tr>
                    <tr>
                <td><code class="language-php">string</code></td>
                <td><code class="language-php">$objectScope</code></td>
                <td>Object type to query against</td>
            </tr>
            </table>

        
        
        
            </div>

                        <div>
        <div class="float-right">
                            at line <a href="#source.59">59</a>
                    </div>
        <div>
            <h3 id="method_getScope"><code class="language-php">getScope()</code></h3>
            <code class="language-php">public string&nbsp;getScope()</code>
        </div>
    </div>

    <div class="details">
                    <div>
                                    <p>Returns the object type scope that is applied to this client</p>                                </div>
                
                    <h4>Return Value</h4>

                <table class="table">
        <tr>
            <td><code class="language-php">string</code></td>
            <td></td>
        </tr>
    </table>

        
        
            </div>

                        <div>
        <div class="float-right">
                            at line <a href="#source.68">68</a>
                    </div>
        <div>
            <h3 id="method_create"><code class="language-php">create()</code></h3>
            <code class="language-php">public <a href="../../SFClient/Result/SFCreationResult.html"><abbr title="SFClient\Result\SFCreationResult">SFCreationResult</abbr></a>&nbsp;create(array $data)</code>
        </div>
    </div>

    <div class="details">
                            <h4>Parameters</h4>

                <table class="table">
                    <tr>
                <td><code class="language-php">array</code></td>
                <td><code class="language-php">$data</code></td>
                <td></td>
            </tr>
            </table>

        
                    <h4>Return Value</h4>

                <table class="table">
        <tr>
            <td><code class="language-php"><a href="../../SFClient/Result/SFCreationResult.html"><abbr title="SFClient\Result\SFCreationResult">SFCreationResult</abbr></a></code></td>
            <td></td>
        </tr>
    </table>

        
        
                    <h4>See also</h4>

                <table class="table">
                    <tr>
                <td>SFAPIClient::create()</td>
                <td></td>
            </tr>
            </table>

            </div>

                        <div>
        <div class="float-right">
                            at line <a href="#source.79">79</a>
                    </div>
        <div>
            <h3 id="method_get"><code class="language-php">get()</code></h3>
            <code class="language-php">public <a href="../../SFClient/Result/SFObjectResult.html"><abbr title="SFClient\Result\SFObjectResult">SFObjectResult</abbr></a>&nbsp;get(string $id, array $fields = [])</code>
        </div>
    </div>

    <div class="details">
                            <h4>Parameters</h4>

                <table class="table">
                    <tr>
                <td><code class="language-php">string</code></td>
                <td><code class="language-php">$id</code></td>
                <td></td>
            </tr>
                    <tr>
                <td><code class="language-php">array</code></td>
                <td><code class="language-php">$fields</code></td>
                <td></td>
            </tr>
            </table>

        
                    <h4>Return Value</h4>

                <table class="table">
        <tr>
            <td><code class="language-php"><a href="../../SFClient/Result/SFObjectResult.html"><abbr title="SFClient\Result\SFObjectResult">SFObjectResult</abbr></a></code></td>
            <td></td>
        </tr>
    </table>

        
        
                    <h4>See also</h4>

                <table class="table">
                    <tr>
                <td>SFAPIClient::get()</td>
                <td></td>
            </tr>
            </table>

            </div>

                        <div>
        <div class="float-right">
                            at line <a href="#source.89">89</a>
                    </div>
        <div>
            <h3 id="method_patch"><code class="language-php">patch()</code></h3>
            <code class="language-php">public <a href="../../SFClient/Result/BoolResult.html"><abbr title="SFClient\Result\BoolResult">BoolResult</abbr></a>&nbsp;patch(string $id, array $data)</code>
        </div>
    </div>

    <div class="details">
                            <h4>Parameters</h4>

                <table class="table">
                    <tr>
                <td><code class="language-php">string</code></td>
                <td><code class="language-php">$id</code></td>
                <td></td>
            </tr>
                    <tr>
                <td><code class="language-php">array</code></td>
                <td><code class="language-php">$data</code></td>
                <td></td>
            </tr>
            </table>

        
                    <h4>Return Value</h4>

                <table class="table">
        <tr>
            <td><code class="language-php"><a href="../../SFClient/Result/BoolResult.html"><abbr title="SFClient\Result\BoolResult">BoolResult</abbr></a></code></td>
            <td></td>
        </tr>
    </table>

        
        
                    <h4>See also</h4>

                <table class="table">
                    <tr>
                <td>SFAPIClient::patch()</td>
                <td></td>
            </tr>
            </table>

            </div>

                        <div>
        <div class="float-right">
                            at line <a href="#source.98">98</a>
                    </div>
        <div>
            <h3 id="method_delete"><code class="language-php">delete()</code></h3>
            <code class="language-php">public <a href="../../SFClient/Result/BoolResult.html"><abbr title="SFClient\Result\BoolResult">BoolResult</abbr></a>&nbsp;delete(string $id)</code>
        </div>
    </div>

    <div class="details">
                            <h4>Parameters</h4>

                <table class="table">
                    <tr>
                <td><code class="language-php">string</code></td>
                <td><code class="language-php">$id</code></td>
                <td></td>
            </tr>
            </table>

        
                    <h4>Return Value</h4>

                <table class="table">
        <tr>
            <td><code class="language-php"><a href="../../SFClient/Result/BoolResult.html"><abbr title="SFClient\Result\BoolResult">BoolResult</abbr></a></code></td>
            <td></td>
        </tr>
    </table>

        
        
                    <h4>See also</h4>

                <table class="table">
                    <tr>
                <td>SFAPIClient::delete()</td>
                <td></td>
            </tr>
            </table>

            </div>

            </div>

    
    <h2>Source code</h2>
    <pre class="language-php line-numbers" id="source"><code>&lt;?php

namespace SFClient\SalesForce;

use GuzzleHttp\Client;
use SFClient\Result\BoolResult;
use SFClient\Result\SFCreationResult;
use SFClient\Result\SFObjectResult;

/**
 * Class ScopedSFAPIClient
 *
 * A SalesForce API client that is scoped down to a specific SalesForce object
 * type. The scoped clients wraps an existing SalesForce API client meaning that
 * calls to the scoped client are passed on to the SalesForce API client that
 * was used to construct the scoped client.
 *
 * This can be useful when needing to pass to an external system, a client that
 * has reduced capabilities.
 *
 * ```php
 * $accounts = new ScopedSFAPIClient($sfClient, &#039;Account&#039;);
 *
 * perform_account_logic($accounts);
 *
 * ```
 *
 * @package SFClient\SalesForce
 */
class ScopedSFAPIClient {

  /**
   * @var SFAPIClient
   */
  protected $_client;

  /**
   * @var string
   */
  protected $_scope;

  /**
   * Creates a SalesForce API client scoped to a particular object type.
   *
   * ScopedSFClient constructor.
   * @param Client $client SalesForce API client to wrap
   * @param string $objectScope Object type to query against
   */
  public function __construct(SFAPIClient $client, string $objectScope) {
    $this-&gt;_client = $client;
    $this-&gt;_scope = $objectScope;
  }

  /**
   * Returns the object type scope that is applied to this client
   *
   * @return string
   */
  public function getScope(): string {
    return $this-&gt;_scope;
  }

  /**
   * @param array $data
   * @return SFCreationResult
   * @see SFAPIClient::create()
   */
  public function create(array $data): SFCreationResult {
    return $this-&gt;_client-&gt;create($this-&gt;_scope, $data);
  }


  /**
   * @param string $id
   * @param array $fields
   * @return SFObjectResult
   * @see SFAPIClient::get()
   */
  public function get(string $id, array $fields = []): SFObjectResult {
    return $this-&gt;_client-&gt;get($this-&gt;_scope, $id, $fields);
  }

  /**
   * @param string $id
   * @param array $data
   * @return BoolResult
   * @see SFAPIClient::patch()
   */
  public function patch(string $id, array $data): BoolResult {
    return $this-&gt;_client-&gt;patch($this-&gt;_scope, $id, $data);
  }

  /**
   * @param string $id
   * @return BoolResult
   * @see SFAPIClient::delete()
   */
  public function delete(string $id): BoolResult {
    return $this-&gt;_client-&gt;delete($this-&gt;_scope, $id);
  }
}</code></pre>
    </div>
    <div class="row">
        <div id="footer">
    Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a> using <a href="https://github.com/nochso/sami-theme">nochso/sami-theme</a>.
  </div>

    </div>
  </div>
    </body>

</html>
